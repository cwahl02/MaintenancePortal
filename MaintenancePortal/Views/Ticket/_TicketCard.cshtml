@model TicketIndexViewModel

@{
    var statusColor = Model.State == TicketState.Open ? "green" :
                              Model.State == TicketState.InProgress ? "darkorange" : "red";

    var text = Model.State == TicketState.Closed ? "Closed" : "Opened";
    var statusDate = $"{text} {Model.StateDate}";
    var statusColor2 = "text-success";
}

<style>
    .status-icon {
        width: 16px;
        height: 16px;
        vertical-align: middle;
    }

    .status-column {
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 0.5rem;
    }

    .title-column {
        flex-grow: 1; /* Makes title column take up remaining space */
        padding-left: 1rem;
    }

    .title:hover {
        color: blue !important;
    }

    .metadata {
        font-size: 0.875rem;
        color: #6c757d;
    }
</style>

<li class="list-group-item d-flex align-items-center">
    <!-- Left Column (Status) -->
    <div class="col-auto status-column @statusColor2">
        <!-- Status Icon (Open) -->
        <svg class="status-icon octicon octicon-issue-opened" fill="@statusColor" aria-hidden="true" width="16" height="16">
            <circle cx="8" cy="8" r="7"/>
        </svg>
    </div>

    <!-- Middle Column (Title and Metadata) -->
    <div class="col title-column">
        <!-- Title -->
        <h5>
            <a asp-controller="Ticket" asp-action="Details" asp-route-id="@Model.Id" class=" title text-decoration-none text-black">@Model.Title</a>
        </h5>

        <!-- Metadata (Assignee, Date) -->
        <div class="metadata">
            <span>#@Model.Id</span>
            <span>·</span>
            <span>
                <!-- TODO: Set action to GetProfile -->
                <a asp-controller="User" asp-action="">@Model.Username</a>
            </span>
            <span>·</span>
            <span>@statusDate</span>
        </div>
    </div>
</li>
